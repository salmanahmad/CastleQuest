package code{	 	import com.phidgets.*;	import com.phidgets.events.*;		import flash.events.Event;	import flash.events.MouseEvent;	import flash.events.KeyboardEvent;	import flash.display.SimpleButton;	import flash.ui.Keyboard;	import flash.utils.*;		public class RFIDController	{		//*************************				var lastTag:String = null;				var rfid0:PhidgetRFID = null;		var rfid1:PhidgetRFID = null;		var gameController:GameController = null;								var tagTable = {			"041514ab3b":1,			"041514a794":1,			"041514acc4":1,			"041514a10f":2,			"0415149a97":2,			"041514a3d2":2,			"041514a220":3,			"0415148c9c":3,									"041514aac0":1,			"0415148d73":1,			"0415149a96":1,			"0415148f9b":2,			"041514b1bf":2,			"04151497f4":2,			"041514ac3e":3,			"0415148f22":3,			"0415148ebf":3,						"04151493a2":4,			"0415149195":4,			"04151495c7":4,						"0f02959035":1,			"0f029598bb":1,			"0f02959ae3":1,			"0f02958b17":1,			"0f02959586":1,			"0f02958d17":1,			"0f02959945":2,			"0f029597a7":2,			"0f02958c95":2,			"0f02782486":2,			"0f029599cf":2,			"0f02959697":2,			"0f02781f94":3,			"0f0295971f":3,			"0f02782e9a":3,			"0f02959b6d":3,			"0f02782d23":3,									"0f02958faf":4,			"0f02959146":4,			"0f02959696":4					}						public function RFIDController(gameController:GameController)		{			this.gameController = gameController;			rfid0 = new PhidgetRFID();			rfid1 = new PhidgetRFID();			rfid0.addEventListener(PhidgetEvent.DETACH,	onDetach);			rfid0.addEventListener(PhidgetEvent.ATTACH,	onAttach);			rfid0.addEventListener(PhidgetErrorEvent.ERROR, onError);			rfid0.addEventListener(PhidgetDataEvent.TAG, onTag);			rfid0.addEventListener(PhidgetDataEvent.TAG_LOST, onTagLoss);			rfid1.addEventListener(PhidgetEvent.DETACH,	onDetach);			rfid1.addEventListener(PhidgetEvent.ATTACH,	onAttach);			rfid1.addEventListener(PhidgetErrorEvent.ERROR, onError);			rfid1.addEventListener(PhidgetDataEvent.TAG, onTag);			rfid1.addEventListener(PhidgetDataEvent.TAG_LOST, onTagLoss);			rfid0.open("localhost", 5001, null, 4787);			rfid1.open("localhost", 5001, null, 5598);											}										function onError(evt:PhidgetErrorEvent):void {			//trace(evt);		}				function onAttach(evt:PhidgetEvent):void{						var rfid = evt.Device;			//trace(evt + " " + rfid.serialNumber);			rfid.Antenna = true;			rfid.LED = true;					}				function onDetach(evt:PhidgetEvent):void{			//trace(evt);		}				function onTag(evt:PhidgetDataEvent):void{			//trace("Tag: " + getQualifiedClassName(evt.Data));						var tag = evt.Data.toString();			var rfid = evt.Device;			if(tag == lastTag) {				return;			}						lastTag = tag;						trace("Tag: " + tag);			if(rfid == rfid0) {				gameController.newCard(0, tagTable[tag]);							} else if(rfid == rfid1) {				gameController.newCard(1, tagTable[tag]);			} else {				trace("Error, RFID Reader not found...");			}								}		function onTagLoss(evt:PhidgetDataEvent):void{			//trace(evt);		}			}}